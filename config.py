import json
import os
import discord
import aiohttp
import io

DATA_FILE = "data.json"

# =========================================
# üìù ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (MESSAGES)
# =========================================
MESSAGES = {
    # ... (‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏´‡πâ‡∏≤‡∏°‡∏•‡∏ö) ...
    
    # [NEW] Restock Messages
    "res_log_title": "üîÑ ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡∏Ç‡∏≠‡∏á",
    "res_log_desc": "‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô {admin} ‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÄ‡∏Ç‡πâ‡∏≤‡∏ï‡∏π‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!",
    "res_log_items": "üì¶ **‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏ï‡∏¥‡∏°:**",
    
    # ... (‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ...
    "desc_addadmin": "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó",
    "desc_removeadmin": "‡∏•‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô",
    "desc_addsupport": "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå Support (‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô)",
    "desc_removesupport": "‡∏•‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå Support",
    "desc_lockdown": "‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏•‡πá‡∏≠‡∏Ñ‡∏ä‡πà‡∏≠‡∏á (‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)",
    "desc_resetdata": "‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏ö ID ‡∏ï‡πà‡∏≤‡∏á‡πÜ",
    "desc_addpoint": "‡πÄ‡∏û‡∏¥‡πà‡∏° Point ‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ",
    "desc_removepoint": "‡∏•‡∏ö Point ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ",
    "desc_auction": "‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤",
    "desc_ticketf": "‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö Ticket ‡πÉ‡∏ô Forum",
    "desc_gamble": "‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏∏‡πà‡∏°‡∏Å‡∏≤‡∏ä‡∏≤/‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô",
    "desc_restock": "‡πÄ‡∏ï‡∏¥‡∏°‡∏Ç‡∏≠‡∏á/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏π‡πâ‡∏Å‡∏≤‡∏ä‡∏≤ (Restock)",

    "no_permission": "üö´ ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡∏µ‡πâ",
    "cmd_success": "‚úÖ ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢",
    "loading": "‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•...",
    "processing": "‚öôÔ∏è ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£...",
    "msg_error_num": "‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô",
    
    "pt_add_success": "‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° {amount} ‡πÅ‡∏ï‡πâ‡∏° ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö {user} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢",
    "pt_remove_success": "‚úÖ ‡∏•‡∏ö {amount} ‡πÅ‡∏ï‡πâ‡∏° ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å {user} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢",
    "pt_current": "‡πÅ‡∏ï‡πâ‡∏°‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: {points}",
    "insufficient_points": "‚ùå ‡πÅ‡∏ï‡πâ‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏û‡∏≠ (‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ {cost} ‡πÅ‡∏ï‡πâ‡∏°)",
    "point_balance": "üí∞ ‡πÅ‡∏ï‡πâ‡∏°‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: {points}",

    "sys_add_admin": "‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° {target} ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô",
    "sys_already_admin": "‚ö†Ô∏è {target} ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß",
    "sys_remove_admin": "‚úÖ ‡∏•‡∏ö {target} ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô",
    "sys_not_admin": "‚ö†Ô∏è {target} ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô",
    "sys_add_support": "‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° {target} ‡πÄ‡∏õ‡πá‡∏ô Support",
    "sys_already_support": "‚ö†Ô∏è {target} ‡πÄ‡∏õ‡πá‡∏ô Support ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß",
    "sys_remove_support": "‚úÖ ‡∏•‡∏ö {target} ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å Support",
    "sys_not_support": "‚ö†Ô∏è {target} ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡πá‡∏ô Support",
    "sys_lockdown_set": "‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤ Lockdown: {seconds} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ",
    "sys_reset_done": "‚úÖ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢",

    "gam_setup_1_msg": "üõ†Ô∏è **Setup 1/5**\n‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° ‡πÅ‡∏•‡∏∞‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô",
    "gam_setup_1_btn": "‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°/‡∏£‡∏π‡∏õ)",
    "gam_modal_1_title": "‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô",
    "gam_lbl_content": "‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô",
    "gam_lbl_img1": "‡∏•‡∏¥‡πâ‡∏á‡∏Ñ‡πå‡∏£‡∏π‡∏õ‡∏õ‡∏Å (Embed)",
    "gam_lbl_img2": "‡∏•‡∏¥‡πâ‡∏á‡∏Ñ‡πå‡∏£‡∏π‡∏õ‡∏ï‡∏≠‡∏ô‡∏™‡∏∏‡πà‡∏° (Gacha Show)",
    "gam_lbl_btn_txt": "‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏∏‡πà‡∏°",
    "gam_lbl_cost": "‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏° 1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á",
    "gam_ph_cost": "‡πÉ‡∏™‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô",
    "gam_setup_2_msg": "üõ†Ô∏è **Setup 2/5**\n‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏≠‡∏á Log ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 15 ‡∏ä‡∏¥‡πâ‡∏ô)\n*‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÉ‡∏™‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ ‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏ß‡∏°‡πÑ‡∏î‡πâ 100*",
    "gam_setup_2_next": "‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚û°Ô∏è",
    "gam_btn_chance_1": "‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ (1-5)",
    "gam_btn_chance_2": "‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ (6-10)",
    "gam_btn_chance_3": "‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ (11-15)",
    "gam_btn_img_1": "‡∏£‡∏π‡∏õ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• (1-5)",
    "gam_btn_img_2": "‡∏£‡∏π‡∏õ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• (6-10)",
    "gam_btn_img_3": "‡∏£‡∏π‡∏õ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• (11-15)",
    "gam_modal_chance_title": "‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ (Part {part})",
    "gam_modal_img_title": "‡∏•‡∏¥‡πâ‡∏á‡∏Ñ‡πå‡∏£‡∏π‡∏õ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• (Part {part})",
    "gam_lbl_c_prefix": "‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏µ‡πà {n}",
    "gam_lbl_i_prefix": "‡∏£‡∏π‡∏õ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏µ‡πà {n}",
    "gam_setup_3_msg": "üõ†Ô∏è **Setup 3/5**\n‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏° ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô",
    "gam_setup_3_select_mode": "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°",
    "gam_mode_unlimited": "üîÑ ‡∏™‡∏∏‡πà‡∏°‡∏ã‡πâ‡∏≥‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢‡πÜ (Unlimited)",
    "gam_mode_limited": "‚õî ‡∏™‡∏∏‡πà‡∏°‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏°‡∏î‡πÑ‡∏õ‡πÄ‡∏•‡∏¢ (Limited)",
    "gam_err_select_mode": "‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°‡∏Å‡πà‡∏≠‡∏ô",
    "gam_err_out_of_stock": "‚ùå ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß! (‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏∑‡∏ô‡πÅ‡∏ï‡πâ‡∏°‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì)",
    "gam_err_sold_out": "‚ùå ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏´‡∏°‡∏î‡πÄ‡∏Å‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÅ‡∏•‡πâ‡∏ß!",
    "gam_setup_3_btn": "‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô",
    "gam_modal_pay_title": "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô",
    "gam_lbl_tm_txt": "‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° TrueMoney",
    "gam_lbl_pp_txt": "‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° PromptPay",
    "gam_lbl_phone": "‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ß‡∏≠‡πÄ‡∏•‡∏ó (‡∏£‡∏±‡∏ö‡∏ã‡∏≠‡∏á)",
    "gam_lbl_qr": "‡∏•‡∏¥‡πâ‡∏á‡∏Ñ‡πå‡∏£‡∏π‡∏õ QR Code",
    "gam_setup_4_msg": "üõ†Ô∏è **Setup 4/5**\n‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á 15 ‡∏ä‡∏¥‡πâ‡∏ô (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤)",
    "gam_btn_name_1": "‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (1-5)",
    "gam_btn_name_2": "‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (6-10)",
    "gam_btn_name_3": "‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (11-15)",
    "gam_modal_name_title": "‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (Part {part})",
    "gam_lbl_n_prefix": "‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà {n}",
    "gam_ph_name": "‡πÄ‡∏ä‡πà‡∏ô iPhone 15, ‡∏ó‡∏≠‡∏á‡∏Ñ‡∏≥ 1 ‡∏ö‡∏≤‡∏ó",
    "gam_setup_5_msg": "üõ†Ô∏è **Setup 5/5 (‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢)**\n‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö **‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏™‡∏•‡∏¥‡∏õ** (‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)",
    "gam_setup_finish": "‚úÖ ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô! ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢",
    "res_setup_msg": "üõ†Ô∏è **Restock Mode**\n‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ï‡∏π‡πâ: {url}\n‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÉ‡∏´‡∏°‡πà 15 ‡∏ä‡∏¥‡πâ‡∏ô (‡∏à‡∏∞‡∏ó‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏î‡∏¥‡∏°)",
    "res_finish_msg": "‚úÖ **Restock ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!**\n‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÅ‡∏•‡∏∞‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß",
    "res_err_invalid_link": "‚ùå ‡∏•‡∏¥‡πâ‡∏á‡∏Ñ‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏ö‡∏≠‡∏ó‡∏ô‡∏µ‡πâ",
    "res_err_not_found": "‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏π‡πâ‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•",

    "gam_select_topup": "‡πÄ‡∏ï‡∏¥‡∏° Point (Top-up)",
    "gam_opt_tm": "TrueMoney Wallet",
    "gam_opt_pp": "PromptPay",
    "gam_btn_check_point": "‡πÄ‡∏ä‡πá‡∏Ñ‡πÅ‡∏ï‡πâ‡∏°",
    "gam_btn_check_stock": "‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤/‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞",
    "gam_stock_title": "üì¶ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•",
    "gam_stock_available": "‚úÖ ‡∏ß‡πà‡∏≤‡∏á",
    "gam_stock_claimed": "üèÜ ‡∏ï‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á {user}",
    "gam_my_point_title": "üí∞ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Point ‡∏ó‡∏µ‡πà‡∏°‡∏µ",
    "gam_my_point_desc": "‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡πÅ‡∏ï‡πâ‡∏°‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: **{points}** Point",
    "top_tm_modal_title": "‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô TrueMoney (‡∏ã‡∏≠‡∏á)",
    "top_tm_lbl_link": "‡∏•‡∏¥‡πâ‡∏á‡∏Ñ‡πå‡∏ã‡∏≠‡∏á‡∏≠‡∏±‡πà‡∏á‡πÄ‡∏õ‡∏≤",
    "top_tm_sent": "‚úÖ ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡πâ‡∏ß ‡∏£‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö...",
    "top_tm_log": "üßß **‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô (‡∏ã‡∏≠‡∏á)**\nüë§ ‡∏ú‡∏π‡πâ‡πÄ‡∏ï‡∏¥‡∏°: {user}\nüîó ‡∏•‡∏¥‡πâ‡∏á‡∏Ñ‡πå: {link}",
    "tm_auto_success": "‚úÖ **‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!**\nüí∞ ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö: {amount} ‡∏ö‡∏≤‡∏ó\nüíé ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πâ‡∏°: {points} Point",
    "tm_err_generic": "‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô: {error}",
    "tm_log_auto_title": "ü§ñ ‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (Auto)",
    "top_pp_modal_title": "‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô PromptPay",
    "top_pp_lbl_amount": "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°",
    "top_pp_msg_api": "üí≥ **‡∏™‡πÅ‡∏Å‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô**\n‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô: `{amount:.2f}` ‡∏ö‡∏≤‡∏ó\nRef: `{ref}`",
    "top_pp_msg_manual": "üè¶ **‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ú‡πà‡∏≤‡∏ô PromptPay**\n‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô: {amount} ‡∏ö‡∏≤‡∏ó\n‡πÇ‡∏õ‡∏£‡∏î‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡∏™‡∏•‡∏¥‡∏õ",
    "top_pp_btn_confirm": "‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô (‡∏™‡πà‡∏á‡∏™‡∏•‡∏¥‡∏õ)",
    "top_slip_room_created": "‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏™‡πà‡∏á‡∏™‡∏•‡∏¥‡∏õ‡πÅ‡∏•‡πâ‡∏ß: {channel}",
    "top_slip_wait": "{user} üßæ ‡πÇ‡∏õ‡∏£‡∏î‡∏™‡πà‡∏á‡∏£‡∏π‡∏õ‡∏™‡∏•‡∏¥‡∏õ‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ\n-# ‡∏à‡∏∞‡∏°‡∏µ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏ï‡∏¥‡∏°‡∏û‡∏≠‡∏¢‡∏ó‡πå‡πÉ‡∏´‡πâ",
    "top_slip_received": "üì• ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏™‡∏•‡∏¥‡∏õ‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô...",
    "top_slip_log_embed": "üßæ **‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÇ‡∏≠‡∏ô (‡∏™‡∏•‡∏¥‡∏õ)**\nüë§ ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ: {user}\nüí∞ ‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡πÅ‡∏à‡πâ‡∏á: {amount} ‡∏ö‡∏≤‡∏ó",
    "top_slip_embed_title": "üßæ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÇ‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà",
    "top_btn_approve": "‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ / ‡πÉ‡∏´‡πâ Point",
    "top_btn_deny": "‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥",
    "top_modal_approve_title": "‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Point",
    "top_lbl_amount": "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Point",
    "top_modal_deny_title": "‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥",
    "top_lbl_reason": "‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•",
    "log_approve_msg": "{user} ‚úÖ **‡∏™‡∏•‡∏¥‡∏õ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥**",
    "log_approve_desc": "‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö **{amount}** Point ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏ô‡∏∏‡∏Å‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°!",
    "log_deny_msg": "{user} ‚ùå **‡∏™‡∏•‡∏¥‡∏õ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥**",
    "log_deny_title": "üö´ ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡∏¢‡∏≠‡∏î",
    "log_deny_reason": "üìù **‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:** {reason}\n-# ‡πÇ‡∏õ‡∏£‡∏î‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏™‡∏á‡∏™‡∏±‡∏¢",
    "log_reward_title": "üéâ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏ú‡∏π‡πâ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•",
    "log_reward_desc": "üë§ **‡∏ú‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö:** {user}\nüéÅ **‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•:** {prize}\nüé≤ **‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡πà‡∏°:** {attempts} ‡∏Ñ‡∏£‡∏±‡πâ‡∏á\nüí∏ **‡∏£‡∏ß‡∏°‡πÉ‡∏ä‡πâ‡πÑ‡∏õ:** {total_cost} Point",
    "play_anim_title": "üé∞ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏∏‡πà‡∏°...",
    "play_result_title": "üéâ ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°",
    "play_result_desc": "‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö: **{prize_name}**",
}

# =========================================
# DATA MANAGEMENT
# =========================================
def load_data():
    if not os.path.exists(DATA_FILE):
        return {
            "admins": [], "supports": [], "auction_count": 0, "ticket_count": 0,
            "ticket_configs": {}, "lockdown_time": 0, 
            "points": {}, 
            "claimed_prizes": {}, # {msg_id: [index_list]}
            "gamble_configs": {}, # {msg_id: config_dict}
            "gamble_stats": {}    # {msg_id: {user_id: count}}
        }
    with open(DATA_FILE, "r", encoding="utf-8") as f:
        return json.load(f)

def save_data(data):
    with open(DATA_FILE, "w", encoding="utf-8") as f:
        json.dump(data, f, indent=4, ensure_ascii=False)

def is_admin_or_has_permission(interaction):
    data = load_data()
    user_id = interaction.user.id
    user_roles = [r.id for r in interaction.user.roles]
    if user_id in data["admins"] or any(r in data["admins"] for r in user_roles): return True
    if interaction.user.guild_permissions.administrator: return True
    return False

def is_support_or_admin(interaction):
    if is_admin_or_has_permission(interaction): return True
    data = load_data()
    user_id = interaction.user.id
    user_roles = [r.id for r in interaction.user.roles]
    if user_id in data["supports"] or any(r in data["supports"] for r in user_roles): return True
    return False

async def get_files_from_urls(urls):
    import aiohttp
    import io
    import discord
    files = []
    async with aiohttp.ClientSession() as session:
        for i, url in enumerate(urls):
            if not url: continue
            try:
                async with session.get(url) as resp:
                    if resp.status == 200:
                        data = await resp.read()
                        files.append(discord.File(io.BytesIO(data), filename=f"image_{i}.png"))
            except: pass
    return files
